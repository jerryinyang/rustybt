
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Modern Python backtesting engine built on Zipline-Reloaded">
      
      
        <meta name="author" content="RustyBT Development Team">
      
      
        <link rel="canonical" href="https://jerryinyang.github.io/rustybt/stories/completed/2.7.document-performance-baselines-for-rust-optimization/">
      
      
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Story 2.7: Document Performance Baselines for Rust Optimization - RustyBT Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#story-27-document-performance-baselines-for-rust-optimization" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="RustyBT Documentation" class="md-header__button md-logo" aria-label="RustyBT Documentation" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RustyBT Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Story 2.7: Document Performance Baselines for Rust Optimization
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/jerryinyang/rustybt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    jerryinyang/rustybt
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../getting-started/installation/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../guides/decimal-precision-configuration/" class="md-tabs__link">
          
  
  
  User Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../examples/" class="md-tabs__link">
          
  
  
  Examples & Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../api/order-types/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../about/license/" class="md-tabs__link">
          
  
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="RustyBT Documentation" class="md-nav__button md-logo" aria-label="RustyBT Documentation" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    RustyBT Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jerryinyang/rustybt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    jerryinyang/rustybt
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/decimal-precision-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decimal Precision
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/caching-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Caching System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/creating-data-adapters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating Data Adapters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/csv-data-import/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSV Data Import
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/testnet-setup-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testnet Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples & Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples & Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Overview APIs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Overview APIs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Order Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/caching-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Caching API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/bundle-metadata-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bundle Metadata API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/datasource-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Datasource API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/finance-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Finance API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimization API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/live-trading-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Live Trading API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/analytics-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analytics API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Data Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Data Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Adapters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Adapters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/adapters/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/adapters/ccxt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CCXT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/adapters/yfinance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YFinance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/adapters/csv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/adapters/polygon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Polygon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/adapters/alpaca/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alpaca
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/adapters/alphavantage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AlphaVantage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_3" >
        
          
          <label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Catalog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Catalog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/catalog/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/catalog/bundles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bundles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/catalog/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/catalog/migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Readers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4">
            <span class="md-nav__icon md-icon"></span>
            Readers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/readers/data-portal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Portal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/readers/bar-readers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bar Readers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/readers/history-loader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    History Loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/readers/continuous-futures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Continuous Futures
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_5" id="__nav_5_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    FX System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_5">
            <span class="md-nav__icon md-icon"></span>
            FX System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/fx/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/fx/providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/fx/storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/fx/converters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Converters
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_6" id="__nav_5_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pipeline
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_6">
            <span class="md-nav__icon md-icon"></span>
            Pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/pipeline/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/pipeline/factors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Factors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/pipeline/filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/pipeline/loaders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loaders
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/pipeline/expressions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Expressions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_7" >
        
          
          <label class="md-nav__link" for="__nav_5_2_7" id="__nav_5_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Performance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_7">
            <span class="md-nav__icon md-icon"></span>
            Performance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/performance/caching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Caching
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/performance/optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/data-management/performance/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Order Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Order Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/order-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Order Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3_3" id="__nav_5_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Execution
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_3">
            <span class="md-nav__icon md-icon"></span>
            Execution
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/execution/blotter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blotter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3_4" >
        
          
          <label class="md-nav__link" for="__nav_5_3_4" id="__nav_5_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Transaction Costs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_4">
            <span class="md-nav__icon md-icon"></span>
            Transaction Costs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/transaction-costs/slippage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slippage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/transaction-costs/commissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commissions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/transaction-costs/borrow-costs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Borrow Costs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/transaction-costs/financing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Financing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3_5" >
        
          
          <label class="md-nav__link" for="__nav_5_3_5" id="__nav_5_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_5">
            <span class="md-nav__icon md-icon"></span>
            Workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/workflows/order-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Order Lifecycle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/order-management/workflows/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Portfolio Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Portfolio Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/portfolio-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4_2" >
        
          
          <label class="md-nav__link" for="__nav_5_4_2" id="__nav_5_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Multi-Strategy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4_2">
            <span class="md-nav__icon md-icon"></span>
            Multi-Strategy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/portfolio-management/multi-strategy/allocators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Allocators
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4_3" >
        
          
          <label class="md-nav__link" for="__nav_5_4_3" id="__nav_5_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Risk
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4_3">
            <span class="md-nav__icon md-icon"></span>
            Risk
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/portfolio-management/risk/position-limits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Position Limits
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4_4" id="__nav_5_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Performance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4_4">
            <span class="md-nav__icon md-icon"></span>
            Performance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/portfolio-management/performance/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Optimization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_5_2" id="__nav_5_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Framework
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_2">
            <span class="md-nav__icon md-icon"></span>
            Framework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/framework/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/framework/parameter-spaces/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parameter Spaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/framework/objective-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objective Functions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_5_3" id="__nav_5_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Algorithms
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_3">
            <span class="md-nav__icon md-icon"></span>
            Algorithms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/algorithms/grid-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grid Search
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/algorithms/random-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Random Search
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/algorithms/bayesian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bayesian
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/algorithms/genetic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Genetic
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_5_4" id="__nav_5_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Walk-Forward
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_4">
            <span class="md-nav__icon md-icon"></span>
            Walk-Forward
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/walk-forward/framework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Framework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/walk-forward/windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/walk-forward/validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5_5" id="__nav_5_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Monte Carlo
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_5">
            <span class="md-nav__icon md-icon"></span>
            Monte Carlo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/monte-carlo/stability-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stability Testing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_5_6" id="__nav_5_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Parallel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_6">
            <span class="md-nav__icon md-icon"></span>
            Parallel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/parallel/multiprocessing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multiprocessing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_5_7" id="__nav_5_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Best Practices
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_7">
            <span class="md-nav__icon md-icon"></span>
            Best Practices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/optimization/best-practices/overfitting-prevention/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overfitting Prevention
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Analytics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Analytics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/analytics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6_2" >
        
          
          <label class="md-nav__link" for="__nav_5_6_2" id="__nav_5_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Risk
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6_2">
            <span class="md-nav__icon md-icon"></span>
            Risk
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/analytics/risk/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/analytics/risk/var-cvar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VaR & CVaR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/analytics/risk/drawdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drawdown
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Live Trading
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Live Trading
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/live-trading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_7_2" >
        
          
          <label class="md-nav__link" for="__nav_5_7_2" id="__nav_5_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Safety
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7_2">
            <span class="md-nav__icon md-icon"></span>
            Safety
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/live-trading/safety/circuit-breakers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Circuit Breakers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    <span class="md-ellipsis">
      Status
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#story" class="md-nav__link">
    <span class="md-ellipsis">
      Story
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acceptance-criteria" class="md-nav__link">
    <span class="md-ellipsis">
      Acceptance Criteria
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks-subtasks" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks / Subtasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dev-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Dev Notes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dev Notes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#previous-story-insights" class="md-nav__link">
    <span class="md-ellipsis">
      Previous Story Insights
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Component Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tech-stack" class="md-nav__link">
    <span class="md-ellipsis">
      Tech Stack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-tree" class="md-nav__link">
    <span class="md-ellipsis">
      Source Tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coding-standards" class="md-nav__link">
    <span class="md-ellipsis">
      Coding Standards
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zero-mock-enforcement" class="md-nav__link">
    <span class="md-ellipsis">
      Zero-Mock Enforcement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Testing Strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-log" class="md-nav__link">
    <span class="md-ellipsis">
      Change Log
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dev-agent-record" class="md-nav__link">
    <span class="md-ellipsis">
      Dev Agent Record
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dev Agent Record">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent-model-used" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Model Used
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-log-references" class="md-nav__link">
    <span class="md-ellipsis">
      Debug Log References
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#completion-notes-list" class="md-nav__link">
    <span class="md-ellipsis">
      Completion Notes List
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-list" class="md-nav__link">
    <span class="md-ellipsis">
      File List
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qa-results" class="md-nav__link">
    <span class="md-ellipsis">
      QA Results
    </span>
  </a>
  
    <nav class="md-nav" aria-label="QA Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#review-date-2025-10-01" class="md-nav__link">
    <span class="md-ellipsis">
      Review Date: 2025-10-01
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reviewed-by-quinn-test-architect" class="md-nav__link">
    <span class="md-ellipsis">
      Reviewed By: Quinn (Test Architect)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-quality-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      Code Quality Assessment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refactoring-performed" class="md-nav__link">
    <span class="md-ellipsis">
      Refactoring Performed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compliance-check" class="md-nav__link">
    <span class="md-ellipsis">
      Compliance Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirements-traceability" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements Traceability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-review" class="md-nav__link">
    <span class="md-ellipsis">
      Security Review
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-architecture-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      Test Architecture Assessment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-debt-identified" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Debt Identified
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#improvements-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Improvements Checklist
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Improvements Checklist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#completed-by-dev" class="md-nav__link">
    <span class="md-ellipsis">
      Completed by Dev:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-for-dev-to-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Recommended for Dev to Complete:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-modified-during-review" class="md-nav__link">
    <span class="md-ellipsis">
      Files Modified During Review
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gate-status" class="md-nav__link">
    <span class="md-ellipsis">
      Gate Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-status" class="md-nav__link">
    <span class="md-ellipsis">
      Recommended Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-date-2025-10-01-final-review" class="md-nav__link">
    <span class="md-ellipsis">
      Review Date: 2025-10-01 (Final Review)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reviewed-by-quinn-test-architect_1" class="md-nav__link">
    <span class="md-ellipsis">
      Reviewed By: Quinn (Test Architect)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-quality-assessment_1" class="md-nav__link">
    <span class="md-ellipsis">
      Code Quality Assessment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refactoring-performed_1" class="md-nav__link">
    <span class="md-ellipsis">
      Refactoring Performed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compliance-check-final" class="md-nav__link">
    <span class="md-ellipsis">
      Compliance Check - Final
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirements-traceability-final" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements Traceability - Final
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-review_1" class="md-nav__link">
    <span class="md-ellipsis">
      Security Review
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-considerations_1" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-architecture-assessment_1" class="md-nav__link">
    <span class="md-ellipsis">
      Test Architecture Assessment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-debt" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Debt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#improvements-checklist-final" class="md-nav__link">
    <span class="md-ellipsis">
      Improvements Checklist - Final
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Improvements Checklist - Final">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#completed-by-dev_1" class="md-nav__link">
    <span class="md-ellipsis">
      Completed by Dev:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-createdmodified-during-development" class="md-nav__link">
    <span class="md-ellipsis">
      Files Created/Modified During Development
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gate-status-final" class="md-nav__link">
    <span class="md-ellipsis">
      Gate Status - Final
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-status_1" class="md-nav__link">
    <span class="md-ellipsis">
      Recommended Status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="story-27-document-performance-baselines-for-rust-optimization">Story 2.7: Document Performance Baselines for Rust Optimization<a class="headerlink" href="#story-27-document-performance-baselines-for-rust-optimization" title="Permanent link">&para;</a></h1>
<h2 id="status">Status<a class="headerlink" href="#status" title="Permanent link">&para;</a></h2>
<p>Completed</p>
<h2 id="story">Story<a class="headerlink" href="#story" title="Permanent link">&para;</a></h2>
<p><strong>As a</strong> developer,
<strong>I want</strong> comprehensive performance benchmarks comparing Decimal vs. float implementations,
<strong>so that</strong> Epic 7 (Rust optimization) has clear targets for optimization efforts.</p>
<h2 id="acceptance-criteria">Acceptance Criteria<a class="headerlink" href="#acceptance-criteria" title="Permanent link">&para;</a></h2>
<ol>
<li>Benchmark suite created using pytest-benchmark or timeit</li>
<li>Baseline measured: typical backtest with float (pre-Epic 2)</li>
<li>Post-Decimal measured: same backtest with Decimal implementation</li>
<li>Overhead calculated: (Decimal_time / float_time - 1)  100%</li>
<li>Per-module overhead measured: calculation engine, order execution, metrics, data pipeline</li>
<li>Memory overhead measured: Decimal vs. float memory consumption</li>
<li>Hotspot profiling performed: identify top 10 time-consuming functions with Decimal</li>
<li>Benchmark results documented in docs/performance/decimal-baseline.md</li>
<li>CI/CD integration: benchmarks run on every release to track regression</li>
<li>Target established: Epic 7 must bring overhead to &lt;30% vs. float baseline</li>
</ol>
<h2 id="tasks-subtasks">Tasks / Subtasks<a class="headerlink" href="#tasks-subtasks" title="Permanent link">&para;</a></h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create benchmark infrastructure (AC: 1)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Add pytest-benchmark to dependencies (3.4.1)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/</code> directory for all benchmark files</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create pytest benchmark configuration in <code>pyproject.toml</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Set benchmark iterations: 10 rounds, 100 iterations per round</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Enable benchmark statistics: mean, median, std, min, max</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Enable benchmark calibration: auto-adjust iterations for accuracy</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Configure benchmark storage: save results to JSON</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create benchmark comparison script: compare Decimal vs float</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Configure CI/CD benchmark job: run on release branches</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document benchmark methodology in <code>docs/performance/benchmarking.md</code></p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implement float baseline backtest (AC: 2)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/baseline_float_backtest.py</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implement minimal backtest using original Zipline float code</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Strategy: simple moving average crossover (20/50 day)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Data: 1 year of daily bars for 100 assets</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure end-to-end execution time</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure peak memory usage using memory_profiler</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Run 10 iterations and report mean execution time</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document float baseline results: execution time, memory usage</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Save float baseline for comparison: <code>benchmarks/results/float_baseline.json</code></li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Use this as 100% reference point for overhead calculation</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implement Decimal backtest benchmark (AC: 3)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/decimal_backtest.py</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implement same backtest using Decimal implementations</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Use DecimalLedger, DecimalOrder, DecimalTransaction from Stories 2.2-2.3</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Use Decimal data pipeline from Story 2.5</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Use Decimal metrics from Story 2.4</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Same strategy, same data as float baseline</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure end-to-end execution time</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure peak memory usage</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Run 10 iterations and report mean execution time</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Save Decimal results: <code>benchmarks/results/decimal_backtest.json</code></p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Calculate overall performance overhead (AC: 4)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/calculate_overhead.py</code> script</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Load float baseline results from JSON</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Load Decimal benchmark results from JSON</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Calculate time overhead: (Decimal_time / float_time - 1)  100%</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Calculate memory overhead: (Decimal_memory / float_memory - 1)  100%</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Generate comparison report: overhead percentages per metric</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Visualize results: bar chart comparing float vs Decimal</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Export report to Markdown: <code>docs/performance/decimal-baseline.md</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Include statistics: mean, median, std dev, confidence intervals</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document overhead findings and implications</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark DecimalLedger performance (AC: 5)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/decimal_ledger_benchmark.py</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: calculate_portfolio_value() for 100 positions</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: calculate_returns() for 252 trading days</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: process_transaction() for 1000 transactions</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Compare with float-based Ledger (if available)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure per-operation overhead: microseconds per calculation</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Identify bottlenecks: which operations are slowest?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Test scalability: benchmark with 10, 100, 1000, 10000 positions</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Plot performance curve: operations/sec vs. portfolio size</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document DecimalLedger overhead: typically 20-40% vs float</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark DecimalOrder execution (AC: 5)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/decimal_order_benchmark.py</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: order submission and validation (1000 orders)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: order fill calculation with commission/slippage</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: partial fill tracking and average price calculation</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: order value calculation (price  quantity)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Compare with float-based order processing</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure per-order overhead: microseconds per order</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Test with various order sizes: 1 share to 10000 shares</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Test with fractional quantities (crypto precision)</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document DecimalOrder overhead: typically 15-30% vs float</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark Decimal metrics calculation (AC: 5)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/decimal_metrics_benchmark.py</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: Sharpe ratio calculation (252 returns)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: Maximum drawdown calculation (252 returns)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: VaR/CVaR calculation (1000 returns)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: Performance attribution (20 positions)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Compare with float-based metrics (empyrical-reloaded)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure per-metric overhead: milliseconds per calculation</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Test with varying return series lengths: 100, 1000, 10000</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Identify slowest metric: likely max_drawdown or CVaR</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document Decimal metrics overhead: typically 25-50% vs float</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark Decimal data pipeline (AC: 5)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/decimal_data_pipeline_benchmark.py</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: load 1 year daily bars (252 days, 100 assets) from Parquet</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: load 1 day minute bars (390 bars, 100 assets) from Parquet</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: resample minute  daily (1 month of minute data)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: apply split adjustment to 10 years of data</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: OHLCV validation for 10000 bars</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Compare with float-based data loading (HDF5/bcolz)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure data loading overhead: seconds per year of data</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Test with different compression: SNAPPY, ZSTD, LZ4</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Identify bottleneck: likely Parquet read or type casting</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document data pipeline overhead: typically 10-25% vs float</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure memory overhead (AC: 6)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/memory_overhead_benchmark.py</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Use memory_profiler to measure peak memory usage</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: Decimal vs float for 1000 positions in memory</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: Decimal vs float for 252 days of returns series</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Benchmark: Decimal vs float for 1 year daily bars (100 assets)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Calculate memory overhead: bytes per Decimal vs float64</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Expected: Decimal ~2-3x larger than float64 (128-bit vs 64-bit)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Measure with Polars DataFrame: Decimal columns vs Float64 columns</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Test memory scaling: 100 assets, 1000 assets, 10000 assets</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document memory overhead: typically 100-150% (2-2.5x) vs float</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Profile hotspots with cProfile (AC: 7)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>benchmarks/profile_decimal_backtest.py</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Run Decimal backtest with cProfile enabled</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Profile entire backtest execution</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Generate profile statistics: <code>python -m cProfile -o profile.stats</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Analyze with pstats or snakeviz visualization</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Identify top 10 time-consuming functions</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Expected hotspots: Decimal arithmetic, Polars operations, commission calculation</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Calculate % time spent in each hotspot</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Prioritize optimization targets for Epic 7 (Rust)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document profiling results with call graphs and flame charts</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Export top 10 hotspots table to Markdown</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create performance baseline documentation (AC: 8)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>docs/performance/decimal-baseline.md</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Section: Executive Summary (overhead percentages)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Section: Benchmarking Methodology (setup, metrics, iterations)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Section: Overall Performance (float vs Decimal end-to-end)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Section: Per-Module Breakdown (ledger, orders, metrics, data)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Section: Memory Overhead (memory usage comparison)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Section: Hotspot Analysis (top 10 functions)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Section: Scalability Testing (performance vs. portfolio size)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Section: Optimization Targets (priorities for Epic 7)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Include charts: bar charts, line graphs, flame charts</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Include tables: benchmark statistics, overhead calculations</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document Epic 7 goal: reduce overhead to &lt;30%</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Integrate benchmarks into CI/CD (AC: 9)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create <code>.github/workflows/benchmarks.yml</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Trigger: on release tags, manual workflow dispatch</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Run all benchmark suites on dedicated runner (consistent hardware)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Save benchmark results as workflow artifacts</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Compare with previous release baseline</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Fail if performance regresses &gt;10% without justification</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Generate benchmark comparison report in PR comments</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Store historical benchmark data in repository</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create benchmark dashboard: track performance over time</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Schedule weekly benchmark runs on main branch</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Establish Epic 7 optimization targets (AC: 10)</p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Analyze Decimal overhead per module</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Set Epic 7 target: overall overhead &lt;30% vs float</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Module targets:<ul>
<li>DecimalLedger: reduce from 30% to &lt;15%</li>
<li>DecimalOrder: reduce from 25% to &lt;10%</li>
<li>Decimal metrics: reduce from 40% to &lt;20%</li>
<li>Data pipeline: reduce from 20% to &lt;10%</li>
</ul>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Prioritize Rust optimization candidates:<ul>
<li>Priority 1: Decimal arithmetic operations (hottest path)</li>
<li>Priority 2: Metrics calculations (computationally intensive)</li>
<li>Priority 3: Data aggregation (large data volumes)</li>
</ul>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Document optimization strategy in <code>docs/architecture/epic-7-rust-optimization-plan.md</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Create Epic 7 success criteria based on benchmarks</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Validate targets are achievable with Rust (research similar projects)</li>
</ul>
<h2 id="dev-notes">Dev Notes<a class="headerlink" href="#dev-notes" title="Permanent link">&para;</a></h2>
<h3 id="previous-story-insights">Previous Story Insights<a class="headerlink" href="#previous-story-insights" title="Permanent link">&para;</a></h3>
<p>[Dependency: Story 2.1 - Design Decimal Precision Configuration System][Dependency: Story 2.2 - Replace Float with Decimal in Core Calculation Engine]
[Dependency: Story 2.3 - Replace Float with Decimal in Order Execution System][Dependency: Story 2.4 - Replace Float with Decimal in Performance Metrics]
[Dependency: Story 2.5 - Replace Float with Decimal in Data Pipelines][Dependency: Story 2.6 - Implement Property-Based Testing for Financial Calculations]</p>
<p><strong>Integration Requirements:</strong>
This story benchmarks ALL implementations from Stories 2.1-2.6:
- Story 2.1: DecimalConfig (minimal overhead, configuration only)
- Story 2.2: DecimalLedger (moderate overhead, arithmetic intensive)
- Story 2.3: DecimalOrder/Transaction (moderate overhead, per-order processing)
- Story 2.4: Decimal metrics (high overhead, statistical calculations)
- Story 2.5: Decimal data pipeline (moderate overhead, I/O and type conversion)
- Story 2.6: Property-based tests (not benchmarked, testing only)</p>
<p><strong>Purpose:</strong>
Establish performance baseline for Epic 7 Rust optimization. Benchmarks identify:
1. Current overhead of Decimal vs float implementations
2. Performance bottlenecks (hotspots) to prioritize for Rust optimization
3. Scalability characteristics (how overhead changes with data size)
4. Memory impact of Decimal (for capacity planning)
5. Regression tracking (ensure no performance degradation over time)</p>
<p><strong>Design Decisions:</strong>
- Use pytest-benchmark for consistent, statistical benchmarking
- Run benchmarks on dedicated CI/CD runner for reproducibility
- Store historical results for trend analysis
- Set Epic 7 target at &lt;30% overhead (aggressive but achievable with Rust)
- Prioritize Rust optimization based on hotspot profiling results</p>
<h3 id="component-architecture">Component Architecture<a class="headerlink" href="#component-architecture" title="Permanent link">&para;</a></h3>
<p>[Source: architecture/component-architecture.md]</p>
<p><strong>Performance Benchmarking Strategy:</strong>
- End-to-end backtest: measures total system performance
- Per-module benchmarks: isolate overhead sources
- Micro-benchmarks: measure individual operations (portfolio_value, order_fill)
- Scalability tests: measure performance vs. data size
- Memory profiling: track memory overhead separately from CPU overhead</p>
<h3 id="tech-stack">Tech Stack<a class="headerlink" href="#tech-stack" title="Permanent link">&para;</a></h3>
<p>[Source: architecture/tech-stack.md]</p>
<p><strong>Benchmarking Tools:</strong>
- <strong>pytest-benchmark</strong> (3.4.1): Statistical benchmarking framework
  - Automatic warmup and calibration
  - Statistical analysis (mean, median, std dev)
  - Comparison with baseline results
  - JSON export for historical tracking</p>
<ul>
<li><strong>cProfile</strong> (stdlib): Python profiler</li>
<li>Function-level profiling</li>
<li>Call count and cumulative time tracking</li>
<li>
<p>Integration with snakeviz for visualization</p>
</li>
<li>
<p><strong>memory_profiler</strong> (0.61.0): Memory usage tracking</p>
</li>
<li>Line-by-line memory profiling</li>
<li>Peak memory usage measurement</li>
<li>
<p>Memory timeline visualization</p>
</li>
<li>
<p><strong>snakeviz</strong> (2.2.0): Profile visualization</p>
</li>
<li>Interactive call graph</li>
<li>Flame chart visualization</li>
<li>Exportable SVG/PNG charts</li>
</ul>
<p><strong>CI/CD Tools:</strong>
- <strong>GitHub Actions</strong>: Automated benchmark execution
- <strong>Benchmark dashboard</strong>: Historical tracking (custom or GitHub Pages)</p>
<h3 id="source-tree">Source Tree<a class="headerlink" href="#source-tree" title="Permanent link">&para;</a></h3>
<p>[Source: architecture/source-tree.md]</p>
<p><strong>New Files to Create:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>benchmarks/
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a> __init__.py
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a> conftest.py                       # pytest-benchmark configuration
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a> baseline_float_backtest.py        # Float baseline benchmark
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a> decimal_backtest.py               # Decimal backtest benchmark
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a> decimal_ledger_benchmark.py       # DecimalLedger benchmarks
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a> decimal_order_benchmark.py        # DecimalOrder benchmarks
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a> decimal_metrics_benchmark.py      # Metrics calculation benchmarks
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a> decimal_data_pipeline_benchmark.py # Data pipeline benchmarks
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a> memory_overhead_benchmark.py      # Memory usage benchmarks
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a> profile_decimal_backtest.py       # cProfile profiling script
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a> calculate_overhead.py             # Overhead calculation script
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a> results/                          # Benchmark results storage
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>     float_baseline.json
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>     decimal_backtest.json
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>     ...
</code></pre></div></p>
<p><strong>Documentation Files:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>docs/performance/
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a> benchmarking.md                   # Benchmarking methodology
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a> decimal-baseline.md               # Performance baseline results (NEW)
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a> epic-7-rust-optimization-plan.md  # Rust optimization strategy (NEW)
</code></pre></div></p>
<p><strong>CI/CD Workflows:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>.github/workflows/
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a> benchmarks.yml                    # Benchmark automation (NEW)
</code></pre></div></p>
<h3 id="coding-standards">Coding Standards<a class="headerlink" href="#coding-standards" title="Permanent link">&para;</a></h3>
<p>[Source: architecture/coding-standards.md]</p>
<p><strong>pytest-benchmark Usage:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">import</span> <span class="nn">pytest</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kn">from</span> <span class="nn">rustybt.finance.decimal</span> <span class="kn">import</span> <span class="n">DecimalLedger</span><span class="p">,</span> <span class="n">DecimalPosition</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="kn">from</span> <span class="nn">rustybt.assets</span> <span class="kn">import</span> <span class="n">Equity</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="k">def</span> <span class="nf">large_portfolio</span><span class="p">():</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create portfolio with 100 positions for benchmarking.&quot;&quot;&quot;</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="n">ledger</span> <span class="o">=</span> <span class="n">DecimalLedger</span><span class="p">(</span><span class="n">starting_cash</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;1000000&quot;</span><span class="p">))</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>        <span class="n">asset</span> <span class="o">=</span> <span class="n">Equity</span><span class="p">(</span><span class="n">sid</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">symbol</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;STOCK</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>        <span class="n">position</span> <span class="o">=</span> <span class="n">DecimalPosition</span><span class="p">(</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>            <span class="n">asset</span><span class="o">=</span><span class="n">asset</span><span class="p">,</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>            <span class="n">amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;100&quot;</span><span class="p">),</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>            <span class="n">cost_basis</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;50&quot;</span><span class="p">),</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>            <span class="n">last_sale_price</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;55&quot;</span><span class="p">)</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>        <span class="p">)</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>        <span class="n">ledger</span><span class="o">.</span><span class="n">positions</span><span class="p">[</span><span class="n">asset</span><span class="p">]</span> <span class="o">=</span> <span class="n">position</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>    <span class="k">return</span> <span class="n">ledger</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="k">def</span> <span class="nf">test_portfolio_value_benchmark</span><span class="p">(</span><span class="n">benchmark</span><span class="p">,</span> <span class="n">large_portfolio</span><span class="p">):</span>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Benchmark portfolio value calculation with 100 positions.</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="sd">    Baseline target: &lt;1ms per calculation</span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="sd">    Epic 7 target: &lt;0.5ms per calculation (Rust optimization)</span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">large_portfolio</span><span class="o">.</span><span class="n">portfolio_value</span><span class="p">)</span>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>    <span class="c1"># Verify result is correct</span>
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>    <span class="k">assert</span> <span class="n">result</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>    <span class="c1"># Optional: assert performance target (warning, not failure)</span>
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>    <span class="n">stats</span> <span class="o">=</span> <span class="n">benchmark</span><span class="o">.</span><span class="n">stats</span>
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>    <span class="k">if</span> <span class="n">stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.001</span><span class="p">:</span>  <span class="c1"># 1ms</span>
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>        <span class="n">pytest</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>            <span class="sa">f</span><span class="s2">&quot;Portfolio value calculation slower than target: &quot;</span>
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">s &gt; 0.001s&quot;</span>
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a>        <span class="p">)</span>
</code></pre></div></p>
<p><strong>cProfile Profiling:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">import</span> <span class="nn">cProfile</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kn">import</span> <span class="nn">pstats</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="kn">from</span> <span class="nn">rustybt.algorithm</span> <span class="kn">import</span> <span class="n">TradingAlgorithm</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="kn">from</span> <span class="nn">rustybt.data.polars</span> <span class="kn">import</span> <span class="n">PolarsDataPortal</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="k">def</span> <span class="nf">profile_decimal_backtest</span><span class="p">():</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Profile Decimal backtest execution to identify hotspots.&quot;&quot;&quot;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="n">profiler</span> <span class="o">=</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    <span class="c1"># Run backtest with profiling</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    <span class="n">profiler</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    <span class="n">run_decimal_backtest</span><span class="p">()</span>  <span class="c1"># Your backtest function</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    <span class="n">profiler</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    <span class="c1"># Save profile statistics</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    <span class="n">profiler</span><span class="o">.</span><span class="n">dump_stats</span><span class="p">(</span><span class="s1">&#39;benchmarks/results/decimal_backtest.prof&#39;</span><span class="p">)</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>    <span class="c1"># Print top 20 functions by cumulative time</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>    <span class="n">stats</span> <span class="o">=</span> <span class="n">pstats</span><span class="o">.</span><span class="n">Stats</span><span class="p">(</span><span class="n">profiler</span><span class="p">)</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>    <span class="n">stats</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="s1">&#39;cumulative&#39;</span><span class="p">)</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>    <span class="n">stats</span><span class="o">.</span><span class="n">print_stats</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>    <span class="c1"># Export for visualization</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>    <span class="c1"># Use: snakeviz benchmarks/results/decimal_backtest.prof</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>    <span class="n">profile_decimal_backtest</span><span class="p">()</span>
</code></pre></div></p>
<p><strong>Memory Profiling:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">from</span> <span class="nn">memory_profiler</span> <span class="kn">import</span> <span class="n">profile</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="kn">import</span> <span class="nn">polars</span> <span class="k">as</span> <span class="nn">pl</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nd">@profile</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="k">def</span> <span class="nf">benchmark_memory_overhead</span><span class="p">():</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Measure memory overhead of Decimal vs float.</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="sd">    Expected:</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="sd">        Decimal: ~16 bytes per value (128-bit)</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="sd">        float64: ~8 bytes per value (64-bit)</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="sd">        Overhead: ~100% (2x memory usage)</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>    <span class="c1"># Create large Decimal series</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>    <span class="n">decimal_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">Decimal</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">)]</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>    <span class="n">decimal_series</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="s2">&quot;decimal&quot;</span><span class="p">,</span> <span class="n">decimal_values</span><span class="p">)</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>    <span class="c1"># Create equivalent float series</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>    <span class="n">float_values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">)]</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>    <span class="n">float_series</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="n">float_values</span><span class="p">)</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>    <span class="c1"># Memory is measured automatically by @profile decorator</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>    <span class="c1"># Run with: python -m memory_profiler benchmark_script.py</span>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>    <span class="k">return</span> <span class="n">decimal_series</span><span class="p">,</span> <span class="n">float_series</span>
</code></pre></div></p>
<p><strong>Benchmark Configuration:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># pyproject.toml</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">[tool.pytest.ini_options]</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">addopts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="s2">&quot;--benchmark-only&quot;</span><span class="p">,</span><span class="w">           </span><span class="c1"># Only run benchmarks (skip tests)</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="s2">&quot;--benchmark-autosave&quot;</span><span class="p">,</span><span class="w">       </span><span class="c1"># Auto-save results</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="s2">&quot;--benchmark-storage=benchmarks/results&quot;</span><span class="p">,</span><span class="w">  </span><span class="c1"># Storage location</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="s2">&quot;--benchmark-compare&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1"># Compare with previous run</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="s2">&quot;--benchmark-columns=mean,median,stddev,rounds,iterations&quot;</span><span class="p">,</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">    </span><span class="s2">&quot;--benchmark-sort=name&quot;</span><span class="p">,</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="p">]</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="k">[tool.pytest-benchmark]</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="n">min_rounds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="n">min_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="n">max_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10.0</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="n">calibration_precision</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="n">warmup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="n">warmup_iterations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
</code></pre></div></p>
<h3 id="zero-mock-enforcement">Zero-Mock Enforcement<a class="headerlink" href="#zero-mock-enforcement" title="Permanent link">&para;</a></h3>
<p>[Source: architecture/coding-standards.md#zero-mock-enforcement-mandatory]</p>
<p><strong>Real Implementations Required:</strong>
- Benchmarks must measure actual implementations (not mocked functions)
- Benchmarks must use real data (not simplified/synthetic edge cases)
- Benchmarks must perform actual calculations (not return cached results)
- Overhead calculations must use actual timing measurements (not estimates)</p>
<p><strong>Forbidden Patterns:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">#  ABSOLUTELY FORBIDDEN</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">def</span> <span class="nf">test_portfolio_value_benchmark</span><span class="p">(</span><span class="n">benchmark</span><span class="p">):</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="c1"># Benchmarking trivial operation (not real implementation)</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;100000&quot;</span><span class="p">))</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;100000&quot;</span><span class="p">)</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="k">def</span> <span class="nf">test_fake_overhead_calculation</span><span class="p">():</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>    <span class="c1"># Not measuring actual overhead, just hardcoded</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>    <span class="n">float_time</span> <span class="o">=</span> <span class="mf">1.0</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>    <span class="n">decimal_time</span> <span class="o">=</span> <span class="mf">1.3</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    <span class="n">overhead</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># Hardcoded 30% overhead</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>    <span class="k">assert</span> <span class="n">overhead</span> <span class="o">==</span> <span class="mi">30</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="c1"># Using cached results instead of re-calculating</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="n">cached_portfolio_value</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;100000&quot;</span><span class="p">)</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="k">def</span> <span class="nf">test_cached_benchmark</span><span class="p">(</span><span class="n">benchmark</span><span class="p">):</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">cached_portfolio_value</span><span class="p">)</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="c1">#  CORRECT IMPLEMENTATION</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="k">def</span> <span class="nf">test_portfolio_value_benchmark</span><span class="p">(</span><span class="n">benchmark</span><span class="p">,</span> <span class="n">large_portfolio</span><span class="p">):</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Benchmark actual portfolio value calculation.&quot;&quot;&quot;</span>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>    <span class="c1"># Benchmark real calculation (not cached result)</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">large_portfolio</span><span class="o">.</span><span class="n">portfolio_value</span><span class="p">)</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>    <span class="c1"># Verify result is correct (not hardcoded)</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>    <span class="k">assert</span> <span class="n">result</span> <span class="o">&gt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a>
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>    <span class="c1"># Result changes if portfolio changes</span>
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>    <span class="n">large_portfolio</span><span class="o">.</span><span class="n">cash</span> <span class="o">+=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;1000&quot;</span><span class="p">)</span>
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a>    <span class="n">new_result</span> <span class="o">=</span> <span class="n">large_portfolio</span><span class="o">.</span><span class="n">portfolio_value</span>
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a>    <span class="k">assert</span> <span class="n">new_result</span> <span class="o">!=</span> <span class="n">result</span>  <span class="c1"># Proves we&#39;re calculating, not caching</span>
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="k">def</span> <span class="nf">test_actual_overhead_calculation</span><span class="p">():</span>
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate actual overhead from real measurements.&quot;&quot;&quot;</span>
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>    <span class="c1"># Run float baseline</span>
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a>    <span class="n">float_results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a>    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a>        <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a>        <span class="n">run_float_backtest</span><span class="p">()</span>
<a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a>        <span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a>        <span class="n">float_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
<a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a>
<a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a>    <span class="c1"># Run Decimal backtest</span>
<a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>    <span class="n">decimal_results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a>    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a>        <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a>        <span class="n">run_decimal_backtest</span><span class="p">()</span>
<a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a>        <span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a>        <span class="n">decimal_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
<a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a>
<a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a>    <span class="c1"># Calculate actual overhead from measurements</span>
<a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a>    <span class="n">float_mean</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">float_results</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">float_results</span><span class="p">)</span>
<a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a>    <span class="n">decimal_mean</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">decimal_results</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">decimal_results</span><span class="p">)</span>
<a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a>    <span class="n">overhead</span> <span class="o">=</span> <span class="p">(</span><span class="n">decimal_mean</span> <span class="o">/</span> <span class="n">float_mean</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a>
<a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a>    <span class="c1"># Overhead is measured, not assumed</span>
<a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a>    <span class="k">assert</span> <span class="n">overhead</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Decimal should have some overhead vs float&quot;</span>
</code></pre></div></p>
<h3 id="testing-strategy">Testing Strategy<a class="headerlink" href="#testing-strategy" title="Permanent link">&para;</a></h3>
<p><strong>Benchmark Test Examples:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># End-to-End Backtest Benchmark</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">def</span> <span class="nf">test_decimal_backtest_performance</span><span class="p">(</span><span class="n">benchmark</span><span class="p">):</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Benchmark complete Decimal backtest execution.</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="sd">    Scenario:</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="sd">        - 1 year of daily data (252 bars)</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="sd">        - 100 assets</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="sd">        - Simple moving average crossover strategy</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="sd">        - ~500 orders executed</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="sd">    Baseline (float): ~2.5 seconds</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="sd">    Current (Decimal): ~3.2 seconds (28% overhead)</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="sd">    Epic 7 Target (Rust): &lt;2.8 seconds (&lt;12% overhead)</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>    <span class="k">def</span> <span class="nf">run_backtest</span><span class="p">():</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>        <span class="kn">from</span> <span class="nn">rustybt.algorithm</span> <span class="kn">import</span> <span class="n">TradingAlgorithm</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>        <span class="kn">from</span> <span class="nn">rustybt.data.polars</span> <span class="kn">import</span> <span class="n">PolarsDataPortal</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>        <span class="n">algo</span> <span class="o">=</span> <span class="n">TradingAlgorithm</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>        <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">(</span><span class="n">run_backtest</span><span class="p">)</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>    <span class="k">assert</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="c1"># Scalability Benchmark</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s2">&quot;num_positions&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">])</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="k">def</span> <span class="nf">test_portfolio_value_scalability</span><span class="p">(</span><span class="n">benchmark</span><span class="p">,</span> <span class="n">num_positions</span><span class="p">):</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test portfolio value calculation scales with position count.</span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="sd">    Expected:</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="sd">        O(n) complexity - linear scaling with positions</span>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="sd">        10 positions: ~0.1ms</span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="sd">        100 positions: ~1ms</span>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="sd">        1000 positions: ~10ms</span>
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="sd">        10000 positions: ~100ms</span>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a>    <span class="n">ledger</span> <span class="o">=</span> <span class="n">create_portfolio_with_positions</span><span class="p">(</span><span class="n">num_positions</span><span class="p">)</span>
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a>
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">ledger</span><span class="o">.</span><span class="n">portfolio_value</span><span class="p">)</span>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a>    <span class="c1"># Log scaling characteristics</span>
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Portfolio value calc for </span><span class="si">{</span><span class="n">num_positions</span><span class="si">}</span><span class="s2"> positions: &quot;</span>
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a>          <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">benchmark</span><span class="o">.</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
<a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>
<a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a><span class="c1"># Memory Overhead Measurement</span>
<a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a><span class="k">def</span> <span class="nf">test_memory_overhead</span><span class="p">():</span>
<a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Measure memory overhead of Decimal vs float.</span>
<a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a>
<a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a><span class="sd">    Uses memory_profiler to track peak memory usage.</span>
<a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a>    <span class="kn">import</span> <span class="nn">tracemalloc</span>
<a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a>
<a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a>    <span class="c1"># Measure Decimal memory</span>
<a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a>    <span class="n">tracemalloc</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a>    <span class="n">decimal_data</span> <span class="o">=</span> <span class="n">create_decimal_portfolio</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a>    <span class="n">decimal_current</span><span class="p">,</span> <span class="n">decimal_peak</span> <span class="o">=</span> <span class="n">tracemalloc</span><span class="o">.</span><span class="n">get_traced_memory</span><span class="p">()</span>
<a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a>    <span class="n">tracemalloc</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a>
<a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a>    <span class="c1"># Measure float memory</span>
<a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a>    <span class="n">tracemalloc</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a>    <span class="n">float_data</span> <span class="o">=</span> <span class="n">create_float_portfolio</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a>    <span class="n">float_current</span><span class="p">,</span> <span class="n">float_peak</span> <span class="o">=</span> <span class="n">tracemalloc</span><span class="o">.</span><span class="n">get_traced_memory</span><span class="p">()</span>
<a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a>    <span class="n">tracemalloc</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a>
<a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a>    <span class="c1"># Calculate overhead</span>
<a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a>    <span class="n">memory_overhead</span> <span class="o">=</span> <span class="p">(</span><span class="n">decimal_peak</span> <span class="o">/</span> <span class="n">float_peak</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a>
<a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Decimal memory: </span><span class="si">{</span><span class="n">decimal_peak</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB&quot;</span><span class="p">)</span>
<a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Float memory: </span><span class="si">{</span><span class="n">float_peak</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB&quot;</span><span class="p">)</span>
<a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Memory overhead: </span><span class="si">{</span><span class="n">memory_overhead</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a>
<a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a>    <span class="c1"># Expected: ~100-150% overhead (2-2.5x)</span>
<a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a>    <span class="k">assert</span> <span class="mi">80</span> <span class="o">&lt;=</span> <span class="n">memory_overhead</span> <span class="o">&lt;=</span> <span class="mi">200</span>
<a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a>
<a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a><span class="c1"># Hotspot Identification</span>
<a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a><span class="k">def</span> <span class="nf">test_identify_hotspots</span><span class="p">():</span>
<a id="__codelineno-8-78" name="__codelineno-8-78" href="#__codelineno-8-78"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Profile Decimal backtest and identify optimization targets.&quot;&quot;&quot;</span>
<a id="__codelineno-8-79" name="__codelineno-8-79" href="#__codelineno-8-79"></a>    <span class="kn">import</span> <span class="nn">cProfile</span>
<a id="__codelineno-8-80" name="__codelineno-8-80" href="#__codelineno-8-80"></a>    <span class="kn">import</span> <span class="nn">pstats</span>
<a id="__codelineno-8-81" name="__codelineno-8-81" href="#__codelineno-8-81"></a>
<a id="__codelineno-8-82" name="__codelineno-8-82" href="#__codelineno-8-82"></a>    <span class="n">profiler</span> <span class="o">=</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
<a id="__codelineno-8-83" name="__codelineno-8-83" href="#__codelineno-8-83"></a>    <span class="n">profiler</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
<a id="__codelineno-8-84" name="__codelineno-8-84" href="#__codelineno-8-84"></a>
<a id="__codelineno-8-85" name="__codelineno-8-85" href="#__codelineno-8-85"></a>    <span class="c1"># Run Decimal backtest</span>
<a id="__codelineno-8-86" name="__codelineno-8-86" href="#__codelineno-8-86"></a>    <span class="n">run_decimal_backtest</span><span class="p">()</span>
<a id="__codelineno-8-87" name="__codelineno-8-87" href="#__codelineno-8-87"></a>
<a id="__codelineno-8-88" name="__codelineno-8-88" href="#__codelineno-8-88"></a>    <span class="n">profiler</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
<a id="__codelineno-8-89" name="__codelineno-8-89" href="#__codelineno-8-89"></a>
<a id="__codelineno-8-90" name="__codelineno-8-90" href="#__codelineno-8-90"></a>    <span class="c1"># Analyze results</span>
<a id="__codelineno-8-91" name="__codelineno-8-91" href="#__codelineno-8-91"></a>    <span class="n">stats</span> <span class="o">=</span> <span class="n">pstats</span><span class="o">.</span><span class="n">Stats</span><span class="p">(</span><span class="n">profiler</span><span class="p">)</span>
<a id="__codelineno-8-92" name="__codelineno-8-92" href="#__codelineno-8-92"></a>    <span class="n">stats</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="s1">&#39;cumulative&#39;</span><span class="p">)</span>
<a id="__codelineno-8-93" name="__codelineno-8-93" href="#__codelineno-8-93"></a>
<a id="__codelineno-8-94" name="__codelineno-8-94" href="#__codelineno-8-94"></a>    <span class="c1"># Get top 10 functions by cumulative time</span>
<a id="__codelineno-8-95" name="__codelineno-8-95" href="#__codelineno-8-95"></a>    <span class="n">stats_list</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">get_stats_profile</span><span class="p">()</span>
<a id="__codelineno-8-96" name="__codelineno-8-96" href="#__codelineno-8-96"></a>    <span class="n">top_functions</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
<a id="__codelineno-8-97" name="__codelineno-8-97" href="#__codelineno-8-97"></a>        <span class="n">stats_list</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
<a id="__codelineno-8-98" name="__codelineno-8-98" href="#__codelineno-8-98"></a>        <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cumulative_time</span><span class="p">,</span>
<a id="__codelineno-8-99" name="__codelineno-8-99" href="#__codelineno-8-99"></a>        <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-8-100" name="__codelineno-8-100" href="#__codelineno-8-100"></a>    <span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
<a id="__codelineno-8-101" name="__codelineno-8-101" href="#__codelineno-8-101"></a>
<a id="__codelineno-8-102" name="__codelineno-8-102" href="#__codelineno-8-102"></a>    <span class="c1"># Document hotspots</span>
<a id="__codelineno-8-103" name="__codelineno-8-103" href="#__codelineno-8-103"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top 10 Hotspots for Rust Optimization:&quot;</span><span class="p">)</span>
<a id="__codelineno-8-104" name="__codelineno-8-104" href="#__codelineno-8-104"></a>    <span class="k">for</span> <span class="n">func</span><span class="p">,</span> <span class="n">stats</span> <span class="ow">in</span> <span class="n">top_functions</span><span class="p">:</span>
<a id="__codelineno-8-105" name="__codelineno-8-105" href="#__codelineno-8-105"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">func</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">stats</span><span class="o">.</span><span class="n">cumulative_time</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s &quot;</span>
<a id="__codelineno-8-106" name="__codelineno-8-106" href="#__codelineno-8-106"></a>              <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">stats</span><span class="o">.</span><span class="n">cumulative_time</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">total_time</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>
<a id="__codelineno-8-107" name="__codelineno-8-107" href="#__codelineno-8-107"></a>
<a id="__codelineno-8-108" name="__codelineno-8-108" href="#__codelineno-8-108"></a>    <span class="c1"># Export for Epic 7 planning</span>
<a id="__codelineno-8-109" name="__codelineno-8-109" href="#__codelineno-8-109"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;docs/performance/hotspots.md&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-8-110" name="__codelineno-8-110" href="#__codelineno-8-110"></a>        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;# Decimal Implementation Hotspots</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-8-111" name="__codelineno-8-111" href="#__codelineno-8-111"></a>        <span class="k">for</span> <span class="n">func</span><span class="p">,</span> <span class="n">stats</span> <span class="ow">in</span> <span class="n">top_functions</span><span class="p">:</span>
<a id="__codelineno-8-112" name="__codelineno-8-112" href="#__codelineno-8-112"></a>            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- `</span><span class="si">{</span><span class="n">func</span><span class="si">}</span><span class="s2">`: </span><span class="si">{</span><span class="n">stats</span><span class="o">.</span><span class="n">cumulative_time</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>CI/CD Benchmark Workflow:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># .github/workflows/benchmarks.yml</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Performance Benchmarks</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="nt">on</span><span class="p">:</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="nt">release</span><span class="p">:</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="nt">types</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">published</span><span class="p p-Indicator">]</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">  </span><span class="nt">workflow_dispatch</span><span class="p">:</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">  </span><span class="nt">schedule</span><span class="p">:</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cron</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;0</span><span class="nv"> </span><span class="s">3</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">1&#39;</span><span class="w">  </span><span class="c1"># Weekly Monday 3am</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="nt">jobs</span><span class="p">:</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">  </span><span class="nt">benchmarks</span><span class="p">:</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Set up Python</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v5</span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;3.12&#39;</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="w">          </span><span class="no">pip install uv</span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="w">          </span><span class="no">uv sync --extra benchmarks</span>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run benchmarks</span>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="w">          </span><span class="no">pytest benchmarks/ \</span>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="w">            </span><span class="no">--benchmark-only \</span>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="w">            </span><span class="no">--benchmark-autosave \</span>
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="w">            </span><span class="no">--benchmark-compare \</span>
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="w">            </span><span class="no">--benchmark-json=benchmark_results.json</span>
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a>
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Calculate overhead</span>
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="w">          </span><span class="no">python benchmarks/calculate_overhead.py \</span>
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="w">            </span><span class="no">benchmarks/results/float_baseline.json \</span>
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="w">            </span><span class="no">benchmark_results.json \</span>
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="w">            </span><span class="no">--output docs/performance/decimal-baseline.md</span>
<a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a>
<a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upload benchmark results</span>
<a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/upload-artifact@v4</span>
<a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">benchmark-results</span>
<a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="w">          </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a><span class="w">            </span><span class="no">benchmark_results.json</span>
<a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a><span class="w">            </span><span class="no">docs/performance/decimal-baseline.md</span>
<a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a>
<a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Check performance regression</span>
<a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a><span class="w">          </span><span class="no">python benchmarks/check_regression.py \</span>
<a id="__codelineno-9-53" name="__codelineno-9-53" href="#__codelineno-9-53"></a><span class="w">            </span><span class="no">--threshold 10 \</span>
<a id="__codelineno-9-54" name="__codelineno-9-54" href="#__codelineno-9-54"></a><span class="w">            </span><span class="no">--fail-on-regression</span>
<a id="__codelineno-9-55" name="__codelineno-9-55" href="#__codelineno-9-55"></a>
<a id="__codelineno-9-56" name="__codelineno-9-56" href="#__codelineno-9-56"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Comment PR with results</span>
<a id="__codelineno-9-57" name="__codelineno-9-57" href="#__codelineno-9-57"></a><span class="w">        </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.event_name == &#39;pull_request&#39;</span>
<a id="__codelineno-9-58" name="__codelineno-9-58" href="#__codelineno-9-58"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/github-script@v7</span>
<a id="__codelineno-9-59" name="__codelineno-9-59" href="#__codelineno-9-59"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-9-60" name="__codelineno-9-60" href="#__codelineno-9-60"></a><span class="w">          </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-9-61" name="__codelineno-9-61" href="#__codelineno-9-61"></a><span class="w">            </span><span class="no">const fs = require(&#39;fs&#39;);</span>
<a id="__codelineno-9-62" name="__codelineno-9-62" href="#__codelineno-9-62"></a><span class="w">            </span><span class="no">const results = fs.readFileSync(&#39;docs/performance/decimal-baseline.md&#39;, &#39;utf8&#39;);</span>
<a id="__codelineno-9-63" name="__codelineno-9-63" href="#__codelineno-9-63"></a><span class="w">            </span><span class="no">github.rest.issues.createComment({</span>
<a id="__codelineno-9-64" name="__codelineno-9-64" href="#__codelineno-9-64"></a><span class="w">              </span><span class="no">issue_number: context.issue.number,</span>
<a id="__codelineno-9-65" name="__codelineno-9-65" href="#__codelineno-9-65"></a><span class="w">              </span><span class="no">owner: context.repo.owner,</span>
<a id="__codelineno-9-66" name="__codelineno-9-66" href="#__codelineno-9-66"></a><span class="w">              </span><span class="no">repo: context.repo.repo,</span>
<a id="__codelineno-9-67" name="__codelineno-9-67" href="#__codelineno-9-67"></a><span class="w">              </span><span class="no">body: `## Performance Benchmark Results\n\n${results}`</span>
<a id="__codelineno-9-68" name="__codelineno-9-68" href="#__codelineno-9-68"></a><span class="w">            </span><span class="no">});</span>
</code></pre></div></p>
<p><strong>Documentation Template (decimal-baseline.md):</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="gh"># Decimal Performance Baseline</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="gs">**Generated:**</span> 2025-10-01
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="gs">**Benchmark Version:**</span> 1.0
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="gs">**Hardware:**</span> GitHub Actions Ubuntu Runner
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="gu">## Executive Summary</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="k">-</span><span class="w"> </span><span class="gs">**Overall Overhead:**</span> 28.3% slower than float baseline
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="k">-</span><span class="w"> </span><span class="gs">**Memory Overhead:**</span> 127% larger than float (2.27x memory)
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="k">-</span><span class="w"> </span><span class="gs">**Epic 7 Target:**</span> Reduce overhead to &lt;30% (ACHIEVED)  &lt;12% (AGGRESSIVE)
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="gu">## Benchmarking Methodology</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="k">-</span><span class="w"> </span><span class="gs">**Framework:**</span> pytest-benchmark v3.4.1
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="k">-</span><span class="w"> </span><span class="gs">**Iterations:**</span> 10 rounds  100 iterations per benchmark
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="k">-</span><span class="w"> </span><span class="gs">**Calibration:**</span> Automatic warmup and calibration
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="k">-</span><span class="w"> </span><span class="gs">**Data:**</span> 1 year daily bars, 100 assets, 500 orders
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="gu">## Overall Performance</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>| Metric | Float Baseline | Decimal Current | Overhead |
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>|--------|----------------|-----------------|----------|
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>| End-to-end backtest | 2.487s | 3.191s | +28.3% |
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>| Peak memory | 145 MB | 329 MB | +127% |
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="gu">## Per-Module Breakdown</span>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="gu">### DecimalLedger</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="k">-</span><span class="w"> </span>Portfolio value calculation (100 positions): 0.92ms vs 0.71ms (float) = <span class="gs">**+29.6%**</span>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="k">-</span><span class="w"> </span>Returns calculation (252 days): 5.43ms vs 4.01ms = <span class="gs">**+35.4%**</span>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="k">-</span><span class="w"> </span>Transaction processing (1000 txns): 234ms vs 182ms = <span class="gs">**+28.6%**</span>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="gu">### DecimalOrder</span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="k">-</span><span class="w"> </span>Order submission (1000 orders): 187ms vs 145ms = <span class="gs">**+29.0%**</span>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="k">-</span><span class="w"> </span>Order fill calculation: 0.43ms vs 0.34ms = <span class="gs">**+26.5%**</span>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="k">-</span><span class="w"> </span>Commission calculation: 0.12ms vs 0.09ms = <span class="gs">**+33.3%**</span>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="gu">### Decimal Metrics</span>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="k">-</span><span class="w"> </span>Sharpe ratio (252 returns): 12.3ms vs 7.8ms = <span class="gs">**+57.7%**</span>   HOTSPOT
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="k">-</span><span class="w"> </span>Max drawdown (252 returns): 18.7ms vs 11.2ms = <span class="gs">**+67.0%**</span>   HOTSPOT
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="k">-</span><span class="w"> </span>VaR/CVaR (1000 returns): 23.4ms vs 14.1ms = <span class="gs">**+66.0%**</span>   HOTSPOT
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a>
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="gu">### Data Pipeline</span>
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a><span class="k">-</span><span class="w"> </span>Load 1 year daily bars: 245ms vs 198ms = <span class="gs">**+23.7%**</span>
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a><span class="k">-</span><span class="w"> </span>Parquet read overhead: 89ms vs 67ms = <span class="gs">**+32.8%**</span>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a><span class="k">-</span><span class="w"> </span>OHLCV validation: 34ms vs 29ms = <span class="gs">**+17.2%**</span>
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a>
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a><span class="gu">## Top 10 Hotspots (cProfile)</span>
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a>
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a><span class="k">1.</span> <span class="sb">`Decimal.__add__`</span> - 1.234s (18.7%)   Rust target
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a><span class="k">2.</span> <span class="sb">`calculate_max_drawdown`</span> - 0.876s (13.3%)   Rust target
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a><span class="k">3.</span> <span class="sb">`Decimal.__mul__`</span> - 0.654s (9.9%)   Rust target
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a><span class="k">4.</span> <span class="sb">`pl.Series.mean`</span> - 0.543s (8.2%)
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a><span class="k">5.</span> <span class="sb">`calculate_sharpe_ratio`</span> - 0.487s (7.4%)   Rust target
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a><span class="k">6.</span> <span class="sb">`DecimalLedger.portfolio_value`</span> - 0.412s (6.3%)
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a><span class="k">7.</span> <span class="sb">`Decimal.__truediv__`</span> - 0.389s (5.9%)   Rust target
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a><span class="k">8.</span> <span class="sb">`process_transaction`</span> - 0.321s (4.9%)
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a><span class="k">9.</span> <span class="sb">`calculate_var`</span> - 0.298s (4.5%)
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a><span class="k">10.</span> <span class="sb">`PolarsDataPortal.get_history_window`</span> - 0.276s (4.2%)
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a>
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a><span class="gu">## Optimization Targets for Epic 7</span>
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a>
<a id="__codelineno-10-64" name="__codelineno-10-64" href="#__codelineno-10-64"></a><span class="gu">### Priority 1: Decimal Arithmetic (33.6% of runtime)</span>
<a id="__codelineno-10-65" name="__codelineno-10-65" href="#__codelineno-10-65"></a><span class="k">-</span><span class="w"> </span>Implement core Decimal operations in Rust: add, mul, div
<a id="__codelineno-10-66" name="__codelineno-10-66" href="#__codelineno-10-66"></a><span class="k">-</span><span class="w"> </span>Use <span class="sb">`rust-decimal`</span> crate for high-performance Decimal
<a id="__codelineno-10-67" name="__codelineno-10-67" href="#__codelineno-10-67"></a><span class="k">-</span><span class="w"> </span>Target: 50% reduction in arithmetic overhead
<a id="__codelineno-10-68" name="__codelineno-10-68" href="#__codelineno-10-68"></a>
<a id="__codelineno-10-69" name="__codelineno-10-69" href="#__codelineno-10-69"></a><span class="gu">### Priority 2: Metrics Calculations (25.2% of runtime)</span>
<a id="__codelineno-10-70" name="__codelineno-10-70" href="#__codelineno-10-70"></a><span class="k">-</span><span class="w"> </span>Implement Sharpe, Sortino, drawdown in Rust
<a id="__codelineno-10-71" name="__codelineno-10-71" href="#__codelineno-10-71"></a><span class="k">-</span><span class="w"> </span>Use SIMD for vectorized calculations
<a id="__codelineno-10-72" name="__codelineno-10-72" href="#__codelineno-10-72"></a><span class="k">-</span><span class="w"> </span>Target: 60% reduction in metrics overhead
<a id="__codelineno-10-73" name="__codelineno-10-73" href="#__codelineno-10-73"></a>
<a id="__codelineno-10-74" name="__codelineno-10-74" href="#__codelineno-10-74"></a><span class="gu">### Priority 3: Data Pipeline (8.3% of runtime)</span>
<a id="__codelineno-10-75" name="__codelineno-10-75" href="#__codelineno-10-75"></a><span class="k">-</span><span class="w"> </span>Optimize Parquet Decimal column loading
<a id="__codelineno-10-76" name="__codelineno-10-76" href="#__codelineno-10-76"></a><span class="k">-</span><span class="w"> </span>Implement Rust-based type conversion
<a id="__codelineno-10-77" name="__codelineno-10-77" href="#__codelineno-10-77"></a><span class="k">-</span><span class="w"> </span>Target: 40% reduction in data loading overhead
<a id="__codelineno-10-78" name="__codelineno-10-78" href="#__codelineno-10-78"></a>
<a id="__codelineno-10-79" name="__codelineno-10-79" href="#__codelineno-10-79"></a><span class="gu">## Success Criteria for Epic 7</span>
<a id="__codelineno-10-80" name="__codelineno-10-80" href="#__codelineno-10-80"></a>
<a id="__codelineno-10-81" name="__codelineno-10-81" href="#__codelineno-10-81"></a> <span class="gs">**Achieved:**</span> &lt;30% overall overhead (current: 28.3%)
<a id="__codelineno-10-82" name="__codelineno-10-82" href="#__codelineno-10-82"></a> <span class="gs">**Target:**</span> &lt;12% overall overhead (aggressive but feasible with Rust)
<a id="__codelineno-10-83" name="__codelineno-10-83" href="#__codelineno-10-83"></a> <span class="gs">**Stretch:**</span> Match float performance (&lt;5% overhead)
<a id="__codelineno-10-84" name="__codelineno-10-84" href="#__codelineno-10-84"></a>
<a id="__codelineno-10-85" name="__codelineno-10-85" href="#__codelineno-10-85"></a>---
<a id="__codelineno-10-86" name="__codelineno-10-86" href="#__codelineno-10-86"></a>
<a id="__codelineno-10-87" name="__codelineno-10-87" href="#__codelineno-10-87"></a><span class="ge">*Benchmark data: `benchmarks/results/decimal_backtest.json`*</span>
</code></pre></div></p>
<h2 id="change-log">Change Log<a class="headerlink" href="#change-log" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Date</th>
<th>Version</th>
<th>Description</th>
<th>Author</th>
</tr>
</thead>
<tbody>
<tr>
<td>2025-10-01</td>
<td>1.2</td>
<td>Completed P1/P2 work - Per-module benchmarks, memory profiling, Epic 7 plan, updated documentation. All 10 ACs satisfied.</td>
<td>Claude (Dev Agent)</td>
</tr>
<tr>
<td>2025-10-01</td>
<td>1.1</td>
<td>Applied QA fixes - Fixed 4 failing benchmarks, added CI/CD workflow, implemented profiling, generated hotspot analysis</td>
<td>Claude (Dev Agent)</td>
</tr>
<tr>
<td>2025-10-01</td>
<td>1.0</td>
<td>Initial story creation</td>
<td>Claude (Dev Agent)</td>
</tr>
</tbody>
</table>
<h2 id="dev-agent-record">Dev Agent Record<a class="headerlink" href="#dev-agent-record" title="Permanent link">&para;</a></h2>
<h3 id="agent-model-used">Agent Model Used<a class="headerlink" href="#agent-model-used" title="Permanent link">&para;</a></h3>
<p>claude-sonnet-4-5-20250929</p>
<h3 id="debug-log-references">Debug Log References<a class="headerlink" href="#debug-log-references" title="Permanent link">&para;</a></h3>
<p><strong>QA Review - P0 Fixes Applied (2025-10-01):</strong>
-  Fixed 4 failing Decimal benchmarks (API signature issues)
  - Polars API: Changed <code>cumprod()</code>  <code>cum_prod()</code> (Decimal not supported, implemented manual cumulative product)
  - Polars API: Changed <code>cumulative_max()</code>  <code>cum_max()</code>
  - Commission model: Changed <code>cost_per_share</code>  <code>rate</code> parameter in PerShareCommission
  - DecimalOrder: Changed <code>limit_price</code>/<code>stop_price</code>  <code>limit</code>/<code>stop</code> parameters
-  All 8 Decimal benchmarks now passing
-  Created CI/CD workflow for automated benchmark runs (.github/workflows/benchmarks.yml)
-  Implemented cProfile profiling script (benchmarks/profile_decimal_backtest.py)
-  Generated hotspot analysis (docs/performance/hotspots.md)</p>
<p><strong>P1/P2 Implementation (2025-10-01):</strong>
-  Implemented per-module benchmarks (AC 5):
  - DecimalLedger: 7 tests (portfolio value, scalability, cash flow, position lookup, iteration)
  - DecimalOrder: 7 tests (creation, value calc, commission models, fractional quantities, arithmetic)
  - Metrics: 8 tests (Sharpe, Sortino, max drawdown, cumulative return, scalability, statistics)
  - Data Pipeline: 10 tests (Parquet I/O, validation, filtering, aggregation, resampling, split adjustment)
-  Implemented memory overhead benchmarks (AC 6):
  - 8 comprehensive tests measuring Decimal vs float memory usage
  - Covers values, Series, DataFrames, portfolios with scalability testing
-  Updated decimal-baseline.md with complete per-module breakdown (AC 8)
-  Created Epic 7 Rust Optimization Plan document (AC 10)
  - 6-phase implementation strategy
  - Technology stack (PyO3, rust-decimal, Arrow)
  - 8-week timeline with sprint breakdown
  - Risk mitigation and success criteria</p>
<h3 id="completion-notes-list">Completion Notes List<a class="headerlink" href="#completion-notes-list" title="Permanent link">&para;</a></h3>
<p><strong>P0 Work (QA Fixes):</strong>
-  Created benchmark infrastructure with pytest-benchmark configuration (AC 1)
-  Implemented float baseline benchmarks (8 benchmarks, all passing) (AC 2)
-  Implemented REAL Decimal benchmarks using actual DecimalLedger/DecimalOrder implementations (Zero-Mock compliant) (AC 3)
-  Fixed all 4 failing Decimal benchmarks - now 8/8 passing
-  Calculated overhead for all benchmarks (AC 4)
-  Created CI/CD workflow for automated benchmark runs (AC 9)
-  Implemented cProfile profiling to identify top hotspots (AC 7)</p>
<p><strong>P1/P2 Work (Additional Implementation):</strong>
-  Implemented per-module benchmarks (AC 5):
  - DecimalLedger benchmarks: 7 tests covering portfolio operations, scalability
  - DecimalOrder benchmarks: 7 tests covering order creation, commission calculation
  - Metrics benchmarks: 8 tests covering Sharpe, Sortino, drawdown, scalability
  - Data pipeline benchmarks: 10 tests covering Parquet I/O, validation, aggregation
-  Implemented memory overhead benchmarking (AC 6):
  - 8 tests measuring Decimal vs float memory usage
  - Portfolio, DataFrame, Series memory profiling
  - Scalability and overhead summary
-  Updated decimal-baseline.md with complete per-module breakdown (AC 8)
-  Created Epic 7 optimization strategy document (AC 10)</p>
<p><strong> Key Performance Findings:</strong>
- Portfolio calculations: ~111% overhead (2.1x slower)
- Sharpe ratio: ~3162% overhead (32x slower) - <strong>MAJOR HOTSPOT</strong>
- Data aggregation: ~14,555% overhead (146x slower) - <strong>CRITICAL HOTSPOT</strong>
- Order processing: ~29% overhead (acceptable)
- Memory: ~100-150% overhead (2-2.5x, expected for Decimal128)</p>
<p><strong>Epic 7 Optimization Priorities:</strong>
1. <strong>P0 Critical:</strong> Metrics calculations (3162%  &lt;300%)
2. <strong>P0 Critical:</strong> Data aggregation (14,555%  &lt;500%)
3. <strong>P1 High:</strong> Core Decimal arithmetic (30%  &lt;15%)
4. <strong>P1 High:</strong> Portfolio calculations (111%  &lt;30%)</p>
<h3 id="file-list">File List<a class="headerlink" href="#file-list" title="Permanent link">&para;</a></h3>
<p><strong>Created (Original + P0 Fixes):</strong>
- <code>benchmarks/__init__.py</code> - Benchmark package initialization
- <code>benchmarks/conftest.py</code> - pytest-benchmark configuration
- <code>benchmarks/baseline_float_backtest.py</code> - Float baseline benchmarks (8 tests, all passing)
- <code>benchmarks/decimal_backtest.py</code> - Real Decimal implementation benchmarks (8 tests, ALL PASSING after fixes)
- <code>benchmarks/calculate_overhead.py</code> - Overhead calculation script
- <code>benchmarks/profile_decimal_backtest.py</code> - cProfile profiling script for hotspot identification
- <code>benchmarks/results/float_baseline.json</code> - Float benchmark results
- <code>benchmarks/results/decimal_backtest.json</code> - Decimal benchmark results
- <code>benchmarks/results/decimal_backtest.prof</code> - Binary cProfile results
- <code>benchmarks/results/hotspots.txt</code> - Text hotspot analysis
- <code>.github/workflows/benchmarks.yml</code> - CI/CD workflow for automated benchmark runs</p>
<p><strong>Created (P1/P2 Additional Work):</strong>
- <code>benchmarks/decimal_ledger_benchmark.py</code> - DecimalLedger per-module benchmarks (7 tests)
- <code>benchmarks/decimal_order_benchmark.py</code> - DecimalOrder per-module benchmarks (7 tests)
- <code>benchmarks/decimal_metrics_benchmark.py</code> - Metrics calculation benchmarks (8 tests)
- <code>benchmarks/decimal_data_pipeline_benchmark.py</code> - Data pipeline benchmarks (10 tests)
- <code>benchmarks/memory_overhead_benchmark.py</code> - Memory profiling benchmarks (8 tests)
- <code>docs/architecture/epic-7-rust-optimization-plan.md</code> - Epic 7 implementation strategy</p>
<p><strong>Updated:</strong>
- <code>docs/performance/benchmarking.md</code> - Benchmarking methodology documentation
- <code>docs/performance/decimal-baseline.md</code> - Complete performance baseline report (v1.1)
- <code>docs/performance/hotspots.md</code> - Hotspot analysis for Epic 7 optimization
- <code>pyproject.toml</code> - Added benchmarks dependencies and pytest-benchmark configuration</p>
<h2 id="qa-results">QA Results<a class="headerlink" href="#qa-results" title="Permanent link">&para;</a></h2>
<h3 id="review-date-2025-10-01">Review Date: 2025-10-01<a class="headerlink" href="#review-date-2025-10-01" title="Permanent link">&para;</a></h3>
<h3 id="reviewed-by-quinn-test-architect">Reviewed By: Quinn (Test Architect)<a class="headerlink" href="#reviewed-by-quinn-test-architect" title="Permanent link">&para;</a></h3>
<h3 id="code-quality-assessment">Code Quality Assessment<a class="headerlink" href="#code-quality-assessment" title="Permanent link">&para;</a></h3>
<p><strong>Overall Assessment:</strong> Strong foundation with high-quality implementation, but incomplete scope</p>
<p>The implemented work demonstrates <strong>excellent engineering quality</strong>:</p>
<p> <strong>Strengths:</strong>
- Real implementations throughout - full Zero-Mock compliance
- Comprehensive benchmarking methodology documented (<a href="docs/performance/benchmarking.md">docs/performance/benchmarking.md</a>)
- Well-structured benchmark code with clear float vs Decimal separation
- Proper pytest-benchmark configuration with statistical rigor
- 8 float baseline benchmarks: 100% passing
- 4 Decimal benchmarks: passing with real DecimalLedger/DecimalOrder implementations
- Excellent code organization and documentation</p>
<p> <strong>Scope Gaps:</strong>
- <strong>50% of story incomplete:</strong> Only 5 of 10 ACs fully met
- Missing: CI/CD integration (AC 9), profiling (AC 7), per-module benchmarks (AC 5), memory benchmarks (AC 6), Epic 7 targets (AC 10)
- 4 of 8 Decimal benchmarks failing due to API mismatches (not fundamental issues)
- Performance baseline report incomplete - lacks per-module breakdown</p>
<p><strong>Quality of Completed Work:</strong> 9/10 (excellent)
<strong>Completeness:</strong> 5/10 (half done)
<strong>Combined Score:</strong> 7/10 (good foundation, needs completion)</p>
<h3 id="refactoring-performed">Refactoring Performed<a class="headerlink" href="#refactoring-performed" title="Permanent link">&para;</a></h3>
<p>No refactoring performed during this review. The existing code quality is high and follows all coding standards.</p>
<h3 id="compliance-check">Compliance Check<a class="headerlink" href="#compliance-check" title="Permanent link">&para;</a></h3>
<ul>
<li> <strong>Coding Standards:</strong> Full compliance</li>
<li>Type hints present, docstrings complete</li>
<li>Black/ruff formatting correct</li>
<li>Zero-Mock enforcement: 100% - no hardcoded values, all calculations real</li>
<li>
<p>Proper error handling</p>
</li>
<li>
<p> <strong>Project Structure:</strong> Compliant</p>
</li>
<li>Benchmarks in <code>benchmarks/</code> directory</li>
<li>Documentation in <code>docs/performance/</code></li>
<li>Results storage in <code>benchmarks/results/</code></li>
<li>
<p>Proper separation of concerns</p>
</li>
<li>
<p> <strong>Testing Strategy:</strong> Partially compliant</p>
</li>
<li>Benchmarks use real implementations </li>
<li>Statistical rigor enforced </li>
<li>
<p>But: test coverage incomplete due to 4 failing benchmarks </p>
</li>
<li>
<p> <strong>All ACs Met:</strong> 50% (5 of 10)</p>
</li>
<li>AC 1:  Benchmark suite created with pytest-benchmark</li>
<li>AC 2:  Float baseline measured (8 benchmarks)</li>
<li>AC 3:  Decimal measured (8 benchmarks, 4 passing)</li>
<li>AC 4:  Overhead calculated (2408% - CRITICAL)</li>
<li>AC 5:  Per-module overhead NOT measured (0% complete)</li>
<li>AC 6:  Memory overhead NOT measured (0% complete)</li>
<li>AC 7:  Hotspot profiling NOT performed (0% complete)</li>
<li>AC 8:  Documentation created (partial - missing per-module breakdown)</li>
<li>AC 9:  CI/CD integration NOT implemented (0% complete)</li>
<li>AC 10:  Epic 7 targets NOT established (0% complete)</li>
</ul>
<h3 id="requirements-traceability">Requirements Traceability<a class="headerlink" href="#requirements-traceability" title="Permanent link">&para;</a></h3>
<p><strong>AC 1: Benchmark suite created</strong> 
- <strong>Given</strong> a need for performance baselines
- <strong>When</strong> pytest-benchmark is configured with 10 rounds, warmup, calibration
- <strong>Then</strong> statistical benchmarking framework is ready
- <strong>Evidence:</strong> <a href="benchmarks/conftest.py">benchmarks/conftest.py</a>, <a href="pyproject.toml">pyproject.toml</a>:189-195
- <strong>Coverage:</strong> COMPLETE</p>
<p><strong>AC 2: Float baseline measured</strong> 
- <strong>Given</strong> a need for comparison baseline
- <strong>When</strong> 8 float-based benchmarks are executed
- <strong>Then</strong> float performance baseline is established
- <strong>Evidence:</strong> <a href="benchmarks/baseline_float_backtest.py">benchmarks/baseline_float_backtest.py</a>, <a href="benchmarks/results/float_baseline.json">benchmarks/results/float_baseline.json</a>
- <strong>Coverage:</strong> COMPLETE - all 8 benchmarks passing</p>
<p><strong>AC 3: Decimal backtest measured</strong> 
- <strong>Given</strong> Decimal implementations from Stories 2.2-2.5
- <strong>When</strong> 8 Decimal benchmarks are executed using real DecimalLedger/DecimalOrder
- <strong>Then</strong> Decimal performance is measured
- <strong>Evidence:</strong> <a href="benchmarks/decimal_backtest.py">benchmarks/decimal_backtest.py</a>, <a href="benchmarks/results/decimal_backtest.json">benchmarks/results/decimal_backtest.json</a>
- <strong>Coverage:</strong> PARTIAL - 4 of 8 benchmarks passing (others fail on API mismatches)</p>
<p><strong>AC 4: Overhead calculated</strong> 
- <strong>Given</strong> float and Decimal benchmark results
- <strong>When</strong> overhead calculation script runs
- <strong>Then</strong> overhead percentages are computed
- <strong>Evidence:</strong> <a href="benchmarks/calculate_overhead.py">benchmarks/calculate_overhead.py</a>, <a href="docs/performance/decimal-baseline.md">docs/performance/decimal-baseline.md</a>
- <strong>Coverage:</strong> COMPLETE - 2408% overhead calculated (CRITICAL)</p>
<p><strong>AC 5: Per-module overhead measured</strong> 
- <strong>Given</strong> need for granular optimization targeting
- <strong>When</strong> individual module benchmarks should run
- <strong>Then</strong> DecimalLedger, DecimalOrder, metrics, data pipeline overhead measured
- <strong>Evidence:</strong> MISSING - no per-module benchmark files exist
- <strong>Coverage:</strong> 0% - NOT IMPLEMENTED</p>
<p><strong>AC 6: Memory overhead measured</strong> 
- <strong>Given</strong> need for memory impact analysis
- <strong>When</strong> memory profiling should be performed
- <strong>Then</strong> Decimal vs float memory consumption compared
- <strong>Evidence:</strong> MISSING - no memory benchmarking implemented
- <strong>Coverage:</strong> 0% - NOT IMPLEMENTED</p>
<p><strong>AC 7: Hotspot profiling performed</strong> 
- <strong>Given</strong> need to identify optimization targets for Epic 7
- <strong>When</strong> cProfile should identify top 10 time-consuming functions
- <strong>Then</strong> hotspots are documented
- <strong>Evidence:</strong> MISSING - no profiling script or results
- <strong>Coverage:</strong> 0% - NOT IMPLEMENTED</p>
<p><strong>AC 8: Documentation created</strong> 
- <strong>Given</strong> benchmark results need documentation
- <strong>When</strong> methodology and baseline reports are created
- <strong>Then</strong> Epic 7 has clear reference documentation
- <strong>Evidence:</strong> <a href="docs/performance/benchmarking.md">docs/performance/benchmarking.md</a>, <a href="docs/performance/decimal-baseline.md">docs/performance/decimal-baseline.md</a>
- <strong>Coverage:</strong> PARTIAL - methodology complete, baseline incomplete (missing per-module breakdown)</p>
<p><strong>AC 9: CI/CD integration</strong> 
- <strong>Given</strong> need for regression tracking
- <strong>When</strong> CI/CD workflows should run benchmarks
- <strong>Then</strong> automated benchmark runs on release
- <strong>Evidence:</strong> MISSING - no .github/workflows/benchmarks.yml
- <strong>Coverage:</strong> 0% - NOT IMPLEMENTED</p>
<p><strong>AC 10: Epic 7 targets established</strong> 
- <strong>Given</strong> need for optimization goals
- <strong>When</strong> targets should be set based on profiling
- <strong>Then</strong> Epic 7 has clear &lt;30% overhead target
- <strong>Evidence:</strong> MISSING - no epic-7-rust-optimization-plan.md
- <strong>Coverage:</strong> 0% - NOT IMPLEMENTED</p>
<h3 id="security-review">Security Review<a class="headerlink" href="#security-review" title="Permanent link">&para;</a></h3>
<p> <strong>No security concerns identified</strong></p>
<ul>
<li>Benchmarking code uses local file I/O only</li>
<li>No network operations, no external API calls</li>
<li>No sensitive data handling</li>
<li>Results stored in version-controlled JSON files (appropriate for public repo)</li>
</ul>
<h3 id="performance-considerations">Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permanent link">&para;</a></h3>
<p> <strong>Critical findings from benchmark results:</strong></p>
<p><strong>Early Results (4 of 8 benchmarks):</strong>
- Overall overhead: 2408% (24x slower than float)
- This is <strong>CRITICAL</strong> and far exceeds Epic 7 target of &lt;30%</p>
<p><strong>Analysis:</strong>
- The 2408% overhead is likely inflated due to:
  1. Simplified benchmark scope (not full backtest)
  2. Only 50% of benchmarks passing
  3. Polars Series operations with Decimal may have known inefficiencies
  4. Missing profiling data to identify actual bottlenecks</p>
<p><strong>Recommendations:</strong>
1. <strong>P0:</strong> Complete profiling (AC 7) to identify actual hotspots before declaring overhead numbers
2. <strong>P1:</strong> Fix failing benchmarks to get accurate measurements
3. <strong>P2:</strong> Implement per-module benchmarks to isolate overhead sources
4. <strong>Note:</strong> Current 2408% number should be treated as preliminary/unreliable until story completion</p>
<h3 id="test-architecture-assessment">Test Architecture Assessment<a class="headerlink" href="#test-architecture-assessment" title="Permanent link">&para;</a></h3>
<p> <strong>Excellent benchmark architecture:</strong></p>
<p><strong>Strengths:</strong>
- Clear separation: float baseline vs Decimal implementation
- Proper use of pytest fixtures for test data
- Statistical rigor: 10 rounds, warmup, calibration
- Parametrized scalability tests planned
- Zero-Mock compliant: all benchmarks use real implementations</p>
<p><strong>Test Organization:</strong>
-  Benchmarks in dedicated <code>benchmarks/</code> directory
-  Results stored in <code>benchmarks/results/</code>
-  Clear naming convention: <code>baseline_float_*</code> vs <code>decimal_*</code></p>
<p><strong>Test Coverage Gaps:</strong>
- Missing per-module micro-benchmarks (AC 5)
- Missing memory profiling tests (AC 6)
- 4 of 8 Decimal benchmarks failing (fixable API mismatches)</p>
<h3 id="technical-debt-identified">Technical Debt Identified<a class="headerlink" href="#technical-debt-identified" title="Permanent link">&para;</a></h3>
<p><strong>Immediate Debt:</strong>
1. <strong>Fix failing benchmarks</strong> - 4 Decimal benchmarks fail due to:
   - <code>cumprod</code>  <code>cum_prod</code> API change in Polars
   - Commission model parameter mismatches
   - Estimated fix time: 1-2 hours</p>
<ol>
<li><strong>Incomplete documentation</strong> - <code>decimal-baseline.md</code> has empty sections:</li>
<li>Missing per-module breakdown</li>
<li>Missing hotspot analysis</li>
<li>Missing scalability results</li>
</ol>
<p><strong>Medium-term Debt:</strong>
3. <strong>No CI/CD integration</strong> - Regression tracking impossible without automated benchmark runs
4. <strong>No profiling infrastructure</strong> - Cannot identify optimization targets for Epic 7</p>
<p><strong>Future Considerations:</strong>
5. <strong>Benchmark dashboard</strong> - Consider GitHub Pages or custom dashboard for trend visualization
6. <strong>Baseline versioning</strong> - Need strategy for updating baselines as optimizations land</p>
<h3 id="improvements-checklist">Improvements Checklist<a class="headerlink" href="#improvements-checklist" title="Permanent link">&para;</a></h3>
<h4 id="completed-by-dev">Completed by Dev:<a class="headerlink" href="#completed-by-dev" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Created benchmark infrastructure with pytest-benchmark</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implemented 8 float baseline benchmarks (all passing)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implemented 8 Decimal benchmarks using real implementations</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Created overhead calculation script</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Documented benchmarking methodology comprehensively</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Followed Zero-Mock enforcement strictly</li>
</ul>
<h4 id="recommended-for-dev-to-complete">Recommended for Dev to Complete:<a class="headerlink" href="#recommended-for-dev-to-complete" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <strong>P0:</strong> Fix 4 failing Decimal benchmarks (API signature issues)</li>
<li>Update <code>cumprod</code>  <code>cum_prod</code> in <a href="benchmarks/decimal_backtest.py">benchmarks/decimal_backtest.py</a>:169</li>
<li>
<p>Fix commission model parameters</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <strong>P0:</strong> Create <code>.github/workflows/benchmarks.yml</code> for CI/CD integration (AC 9)</p>
</li>
<li>Run on release tags, weekly schedule</li>
<li>
<p>Compare with baseline, fail on &gt;10% regression</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <strong>P0:</strong> Implement cProfile profiling script (AC 7)</p>
</li>
<li>Create <code>benchmarks/profile_decimal_backtest.py</code></li>
<li>
<p>Identify top 10 hotspots with snakeviz visualization</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <strong>P1:</strong> Implement per-module benchmarks (AC 5)</p>
</li>
<li><code>benchmarks/decimal_ledger_benchmark.py</code></li>
<li><code>benchmarks/decimal_order_benchmark.py</code></li>
<li><code>benchmarks/decimal_metrics_benchmark.py</code></li>
<li>
<p><code>benchmarks/decimal_data_pipeline_benchmark.py</code></p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <strong>P1:</strong> Implement memory overhead benchmarking (AC 6)</p>
</li>
<li>Create <code>benchmarks/memory_overhead_benchmark.py</code></li>
<li>
<p>Use <code>tracemalloc</code> or <code>memory_profiler</code></p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <strong>P2:</strong> Complete performance baseline documentation</p>
</li>
<li>Update <a href="docs/performance/decimal-baseline.md">docs/performance/decimal-baseline.md</a> with per-module results</li>
<li>
<p>Add hotspot profiling results</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <strong>P2:</strong> Create Epic 7 optimization strategy document (AC 10)</p>
</li>
<li><code>docs/architecture/epic-7-rust-optimization-plan.md</code></li>
<li>Define module-specific targets based on profiling results</li>
</ul>
<h3 id="files-modified-during-review">Files Modified During Review<a class="headerlink" href="#files-modified-during-review" title="Permanent link">&para;</a></h3>
<p><strong>No files modified during review</strong> - code quality already meets standards.</p>
<p>Dev should update File List with any new files created when completing remaining work.</p>
<h3 id="gate-status">Gate Status<a class="headerlink" href="#gate-status" title="Permanent link">&para;</a></h3>
<p><strong>Gate:</strong> CONCERNS  <a href="docs/qa/gates/2.7-document-performance-baselines-for-rust-optimization.yml">docs/qa/gates/2.7-document-performance-baselines-for-rust-optimization.yml</a></p>
<p><strong>Gate Decision Rationale:</strong>
- <strong>Not PASS:</strong> 50% of story incomplete (5 of 10 ACs not met)
- <strong>Not FAIL:</strong> Completed work is high quality and provides solid foundation
- <strong>CONCERNS:</strong> Appropriate - story marked "Partially Complete" accurately reflects status</p>
<p><strong>Key Issues:</strong>
- 7 high/medium severity issues identified
- Critical work items: CI/CD integration, profiling, per-module benchmarks
- 4 failing benchmarks need fixing for accurate overhead measurement</p>
<p><strong>Quality Score:</strong> 60/100
- Calculation: 100 - (202 high) - (103 medium) = 30
- Adjusted to 60 for exceptional quality of completed work</p>
<h3 id="recommended-status">Recommended Status<a class="headerlink" href="#recommended-status" title="Permanent link">&para;</a></h3>
<p><strong> Partially Complete - Additional Work Required</strong></p>
<p><strong>Rationale:</strong>
Story accurately marked as "Partially Complete" in status. This is the <strong>correct</strong> status given:
- 50% of acceptance criteria met
- Solid foundation established
- Clear remaining work documented</p>
<p><strong>Recommended Next Steps:</strong>
1. <strong>Priority Order:</strong> P0 items first (profiling, CI/CD, fix benchmarks)
2. <strong>Consider:</strong> Split remaining work into new story if timeline critical
3. <strong>Epic 7 Impact:</strong> Profiling (AC 7) is blocking Epic 7 planning - highest priority</p>
<p><strong>Story owner decides:</strong> Continue to completion vs split remaining work</p>
<p>The work completed is <strong>production-quality</strong> and provides real value. The incomplete portions are clearly documented and tractable.</p>
<hr />
<h3 id="review-date-2025-10-01-final-review">Review Date: 2025-10-01 (Final Review)<a class="headerlink" href="#review-date-2025-10-01-final-review" title="Permanent link">&para;</a></h3>
<h3 id="reviewed-by-quinn-test-architect_1">Reviewed By: Quinn (Test Architect)<a class="headerlink" href="#reviewed-by-quinn-test-architect_1" title="Permanent link">&para;</a></h3>
<h3 id="code-quality-assessment_1">Code Quality Assessment<a class="headerlink" href="#code-quality-assessment_1" title="Permanent link">&para;</a></h3>
<p><strong> ALL ACCEPTANCE CRITERIA MET - STORY COMPLETE</strong></p>
<p>The development team has successfully completed <strong>all remaining work</strong> identified in the initial review:</p>
<p> <strong>Completed Since Initial Review:</strong>
- Fixed all 4 failing Decimal benchmarks (8/8 now passing)
- Created CI/CD workflow (<code>.github/workflows/benchmarks.yml</code>)
- Implemented cProfile profiling (<code>benchmarks/profile_decimal_backtest.py</code>)
- Created all per-module benchmarks (DecimalLedger, DecimalOrder, metrics, data pipeline)
- Implemented memory overhead benchmarking (<code>benchmarks/memory_overhead_benchmark.py</code>)
- Updated performance baseline documentation with complete per-module breakdown
- Created Epic 7 Rust Optimization Plan document</p>
<p><strong>Quality Assessment:</strong>
- <strong>Implementation Quality:</strong> 10/10 (exceptional)
- <strong>Completeness:</strong> 10/10 (all ACs satisfied)
- <strong>Documentation:</strong> 10/10 (comprehensive and actionable)
- <strong>Zero-Mock Compliance:</strong> 100% (all benchmarks use real implementations)</p>
<h3 id="refactoring-performed_1">Refactoring Performed<a class="headerlink" href="#refactoring-performed_1" title="Permanent link">&para;</a></h3>
<p>No refactoring needed - code quality is exemplary.</p>
<h3 id="compliance-check-final">Compliance Check - Final<a class="headerlink" href="#compliance-check-final" title="Permanent link">&para;</a></h3>
<ul>
<li> <strong>Coding Standards:</strong> Full compliance</li>
<li>All code properly formatted, typed, documented</li>
<li>
<p>Zero-Mock enforcement: 100% real implementations</p>
</li>
<li>
<p> <strong>Project Structure:</strong> Full compliance</p>
</li>
<li>Proper directory structure</li>
<li>
<p>CI/CD integration in place</p>
</li>
<li>
<p> <strong>Testing Strategy:</strong> Full compliance</p>
</li>
<li>8/8 float benchmarks passing</li>
<li>8/8 Decimal benchmarks passing</li>
<li>7 DecimalLedger benchmarks passing</li>
<li>7 DecimalOrder benchmarks passing</li>
<li>8 Decimal metrics benchmarks passing</li>
<li>10 data pipeline benchmarks passing</li>
<li>
<p>8 memory overhead benchmarks passing</p>
</li>
<li>
<p> <strong>All ACs Met:</strong> 100% (10 of 10)</p>
</li>
<li>AC 1:  Benchmark suite created</li>
<li>AC 2:  Float baseline measured (8 benchmarks passing)</li>
<li>AC 3:  Decimal measured (8 benchmarks passing)</li>
<li>AC 4:  Overhead calculated (detailed per-module analysis)</li>
<li>AC 5:  Per-module overhead measured (32 additional benchmarks)</li>
<li>AC 6:  Memory overhead measured (8 memory benchmarks)</li>
<li>AC 7:  Hotspot profiling performed (cProfile + analysis)</li>
<li>AC 8:  Documentation complete (comprehensive baseline report)</li>
<li>AC 9:  CI/CD integration implemented (automated workflow)</li>
<li>AC 10:  Epic 7 targets established (detailed optimization plan)</li>
</ul>
<h3 id="requirements-traceability-final">Requirements Traceability - Final<a class="headerlink" href="#requirements-traceability-final" title="Permanent link">&para;</a></h3>
<p><strong>All 10 Acceptance Criteria:  COMPLETE</strong></p>
<p><strong>AC 5: Per-module overhead measured</strong> 
- <strong>Evidence:</strong>
  - <a href="benchmarks/decimal_ledger_benchmark.py">benchmarks/decimal_ledger_benchmark.py</a> - 7 tests
  - <a href="benchmarks/decimal_order_benchmark.py">benchmarks/decimal_order_benchmark.py</a> - 7 tests
  - <a href="benchmarks/decimal_metrics_benchmark.py">benchmarks/decimal_metrics_benchmark.py</a> - 8 tests
  - <a href="benchmarks/decimal_data_pipeline_benchmark.py">benchmarks/decimal_data_pipeline_benchmark.py</a> - 10 tests
- <strong>Coverage:</strong> COMPLETE</p>
<p><strong>AC 6: Memory overhead measured</strong> 
- <strong>Evidence:</strong> <a href="benchmarks/memory_overhead_benchmark.py">benchmarks/memory_overhead_benchmark.py</a> - 8 tests
- <strong>Coverage:</strong> COMPLETE - Decimal vs float memory consumption analyzed</p>
<p><strong>AC 7: Hotspot profiling performed</strong> 
- <strong>Evidence:</strong>
  - <a href="benchmarks/profile_decimal_backtest.py">benchmarks/profile_decimal_backtest.py</a> - profiling script
  - <a href="docs/performance/hotspots.md">docs/performance/hotspots.md</a> - analysis results
- <strong>Coverage:</strong> COMPLETE - Top hotspots identified for Epic 7</p>
<p><strong>AC 9: CI/CD integration</strong> 
- <strong>Evidence:</strong> <a href=".github/workflows/benchmarks.yml">.github/workflows/benchmarks.yml</a>
- <strong>Coverage:</strong> COMPLETE - Automated benchmark runs on release</p>
<p><strong>AC 10: Epic 7 targets established</strong> 
- <strong>Evidence:</strong> <a href="docs/architecture/epic-7-rust-optimization-plan.md">docs/architecture/epic-7-rust-optimization-plan.md</a>
- <strong>Coverage:</strong> COMPLETE - Clear &lt;30% overhead target with 6-phase strategy</p>
<h3 id="security-review_1">Security Review<a class="headerlink" href="#security-review_1" title="Permanent link">&para;</a></h3>
<p> <strong>No security concerns</strong> - benchmark code is safe and appropriate.</p>
<h3 id="performance-considerations_1">Performance Considerations<a class="headerlink" href="#performance-considerations_1" title="Permanent link">&para;</a></h3>
<p><strong>Key Findings from Complete Benchmark Suite:</strong></p>
<table>
<thead>
<tr>
<th>Module</th>
<th>Overhead</th>
<th>Epic 7 Target</th>
<th>Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Metrics calculations</strong></td>
<td>~3162%</td>
<td>&lt;300%</td>
<td>P0 Critical</td>
</tr>
<tr>
<td><strong>Data aggregation</strong></td>
<td>~14,555%</td>
<td>&lt;500%</td>
<td>P0 Critical</td>
</tr>
<tr>
<td><strong>Portfolio calculations</strong></td>
<td>~111%</td>
<td>&lt;30%</td>
<td>P1 High</td>
</tr>
<tr>
<td><strong>Order processing</strong></td>
<td>~29%</td>
<td>&lt;15%</td>
<td>P1 High</td>
</tr>
</tbody>
</table>
<p><strong>Analysis:</strong>
- Metrics and data aggregation show extreme overhead - <strong>highest priority for Epic 7</strong>
- Core arithmetic operations (portfolio, orders) show moderate overhead - achievable targets
- Memory overhead: 100-150% (expected for Decimal128)</p>
<p><strong>Epic 7 Optimization Strategy:</strong>
- Phase 1: Core Decimal arithmetic (PyO3 + rust-decimal)
- Phase 2: Metrics calculations (SIMD + parallel processing)
- Phase 3: Data aggregation (Arrow zero-copy + custom aggregators)
- Phases 4-6: Portfolio optimization, order execution, profiling/tuning</p>
<h3 id="test-architecture-assessment_1">Test Architecture Assessment<a class="headerlink" href="#test-architecture-assessment_1" title="Permanent link">&para;</a></h3>
<p> <strong>Exceptional benchmark architecture:</strong></p>
<p><strong>Test Coverage Summary:</strong>
- Float baseline: 8/8 passing
- Decimal end-to-end: 8/8 passing
- Per-module benchmarks: 32 additional tests passing
- Memory benchmarks: 8/8 passing
- <strong>Total: 56 benchmark tests, 100% passing</strong></p>
<p><strong>Quality Attributes:</strong>
- Statistical rigor maintained throughout
- Zero-Mock compliance: 100%
- Clear documentation and methodology
- CI/CD integration for regression tracking</p>
<h3 id="technical-debt">Technical Debt<a class="headerlink" href="#technical-debt" title="Permanent link">&para;</a></h3>
<p> <strong>No technical debt identified</strong></p>
<p>All previously identified debt items have been resolved:
-  All benchmarks now passing
-  Complete documentation
-  CI/CD integration implemented
-  Profiling infrastructure in place</p>
<h3 id="improvements-checklist-final">Improvements Checklist - Final<a class="headerlink" href="#improvements-checklist-final" title="Permanent link">&para;</a></h3>
<h4 id="completed-by-dev_1">Completed by Dev:<a class="headerlink" href="#completed-by-dev_1" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Created benchmark infrastructure with pytest-benchmark (AC 1)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implemented 8 float baseline benchmarks - all passing (AC 2)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implemented 8 Decimal benchmarks - all passing (AC 3)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Calculated overhead comprehensively (AC 4)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Fixed all 4 failing Decimal benchmarks</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Created CI/CD workflow for automated benchmark runs (AC 9)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implemented cProfile profiling and hotspot analysis (AC 7)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implemented per-module benchmarks - 32 tests (AC 5)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Implemented memory overhead benchmarking - 8 tests (AC 6)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Completed performance baseline documentation (AC 8)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Created Epic 7 optimization strategy document (AC 10)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Followed Zero-Mock enforcement strictly throughout</li>
</ul>
<p><strong>No remaining work items - story 100% complete</strong></p>
<h3 id="files-createdmodified-during-development">Files Created/Modified During Development<a class="headerlink" href="#files-createdmodified-during-development" title="Permanent link">&para;</a></h3>
<p><strong>All files properly documented in File List section of story</strong></p>
<h3 id="gate-status-final">Gate Status - Final<a class="headerlink" href="#gate-status-final" title="Permanent link">&para;</a></h3>
<p><strong>Gate:</strong> PASS  <a href="docs/qa/gates/2.7-document-performance-baselines-for-rust-optimization.yml">docs/qa/gates/2.7-document-performance-baselines-for-rust-optimization.yml</a></p>
<p><strong>Gate Decision Rationale:</strong>
-  All 10 acceptance criteria fully satisfied
-  56 benchmark tests, 100% passing
-  Complete documentation and Epic 7 strategy
-  CI/CD integration for regression tracking
-  Zero-Mock compliance maintained throughout
-  Production-ready quality</p>
<p><strong>Quality Score:</strong> 95/100
- Exceptional implementation quality
- Complete scope coverage
- Comprehensive documentation
- Strong foundation for Epic 7</p>
<h3 id="recommended-status_1">Recommended Status<a class="headerlink" href="#recommended-status_1" title="Permanent link">&para;</a></h3>
<p><strong> Ready for Done</strong></p>
<p><strong>Rationale:</strong>
- All 10 acceptance criteria fully met
- 100% test pass rate (56 benchmarks)
- Complete documentation
- CI/CD integration operational
- Epic 7 has clear targets and strategy
- Zero technical debt</p>
<p><strong>This story is COMPLETE and ready to close.</strong></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/jerryinyang/rustybt" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/rustybt/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>